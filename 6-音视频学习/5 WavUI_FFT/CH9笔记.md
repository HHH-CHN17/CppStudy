## 前置基础

### 1. 物理频率、采样率、归一化频率

- 物理频率（Hz）：$F$ = 每秒多少个周期（cycles/sec）

- 采样率：$F_s$ = 每秒采样多少点（samples/sec），采样周期 $T_s = 1/F_s$ 表示每隔 $T_s$ 采一个样本点

- 在连续时间下的，频率为 $F$ 的正弦波通常写作：
  $$
  x(t)=A\sin(2\pi Ft+\phi)
  $$

- 如果我们把上面的连续信号按 $t=nT_s=n/F_s$ 采样，可得：
  $$
  x(t)=A\sin(2\pi Ft+\phi)\ \Rightarrow\ x[n]=A\sin\!\left(2\pi\frac{F}{F_s}n+\phi\right)
  $$
  这一步直接引出 **归一化频率**。

- 归一化频率（cycles/sample）：
  $$
  f=\frac{F}{F_s}
  $$
  于是离散信号写成：
  $$
  x[n]=A\sin(2\pi f n+\phi)
  $$
  书里也明确说过频谱图的一种常用的横轴标法是使用“**归一化频率**，范围是 0 到 0.5”，公式 $f=k/N$。

  由此可以通过频谱图的x坐标，确定输入信号的频率

- 或者我们可以使用角频率：
  $$
  \omega = 2\pi f = 2\pi \frac{F}{F_s}\quad
  $$

### 2. DFT 频点索引 $k$ 与频率轴

- 对 **N 点 DFT**，基函数写作：
  $$
  \cos\left(2\pi\frac{k}{N}n\right),\ \sin\left(2\pi\frac{k}{N}n\right)
  $$
  其中 $k$ 决定频率。特别注意：**$k$ 等于在 N 个点里完成的周期数，但它不是频率！**

- 我们重新看看上面的归一化频率的公式：

  $N$ 点 DFT 的第 $k$ 个频点对应：
  $$
  f_k=\frac{k}{N} = \frac{F_k}{F_s} \Rightarrow\
  F_k=f_k \cdot F_s
  $$
  其中 $f_k$ 表示第k个频点对应的归一化频率，$F_k$ 表示第k个频点对应的物理频率

- 频率分辨率：
  $$
  \Delta F=\frac{F_s}{N}
  $$
  这里的分辨率是指：对于每一个频点 $k$，它所代表的频率范围，负责捕获输入信号 $F_k\pm 0.5 \Delta F$ 范围内的能量，对于这样一个区间，我们通常叫bin

  显然第 $k$ 个 Bin 对应的物理频率和第 $k$ 个频点对应的物理频率一致，只不过bin代表的是一个区间。



所以我们填充0拓展N之后，由于没有引入额外的能量，DFT的连续频谱图不会变，但是根据公式，$\Delta F$会变小，所以我们的离散频谱图的样本点之间会更加密集，能更好地展示出频率分布

### 3. “在这段记录里一共有多少个周期”与相干/非相干

- 记录时长：$N/F_s$ 秒

- 在这段记录内的周期数：
  $$
  \text{cycles}=\frac{FN}{F_s}=fN
  $$

- 把它记作“理想 bin 位置”：
  $$
  k_0=\frac{FN}{F_s}
  $$

  - **相干采样（coherent）**：$k_0$ 是整数 → 正好落在某个 bin
  - **非相干采样（incoherent）**：$k_0$ 非整数 → 落在两个 bin 之间 → 泄露/拖尾

### 4. 三个操作的本质区别

- **加窗（windowing）**：时域乘 $w[n]$ 后再做 DFT
   作用：通常降低旁瓣（拖尾减弱），代价：主瓣更宽（分辨率下降）。
- **零填充（zero padding）**：把长度从 $N$ 变为 $N'$（后面补 0）
   作用：频域采样更密（$\Delta F$ 变小），**不改变连续频谱曲线的形状**，不提升“真实分辨率”（真实分辨率主要由有效数据长度与窗决定）。
- **相干 vs 非相干**：决定你在离散频点上看到的是“干净单峰”还是“主瓣+拖尾分散”。

### 5. 幅度、强度（功率）、“面积”先定义再比较

- 幅度谱：常看 $|X[k]|$
- 强度/功率：常看 $|X[k]|^2$
- 如果你谈“面积/积分”，必须明确用哪个：
  - 幅度意义：$\sum |X[k]|\Delta F$（一般不守恒、意义弱）
  - 功率/能量意义：$\sum |X[k]|^2\Delta F$（更接近能量比较的直觉）